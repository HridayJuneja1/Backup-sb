{"ast":null,"code":"var _jsxFileName = \"/Users/hrida/SYST35300/samskritabharati/src/components/Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    t\n  } = useTranslation();\n\n  // Initialize state for form data\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phoneNumber: ''\n  });\n\n  // Retrieve the email from local storage when the component mounts\n  useEffect(() => {\n    const storedUser = JSON.parse(localStorage.getItem('user')); // Assuming user data is stored in localStorage\n    if (storedUser && storedUser.email) {\n      setFormData(prevData => ({\n        ...prevData,\n        email: storedUser.email // Set email from localStorage\n      }));\n    }\n  }, []);\n\n  // Handle form field changes\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/checkout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      alert(data.message);\n      navigate('/order-confirmed');\n    } catch (error) {\n      console.error('Error checking out:', error);\n      alert('Error checking out. Please try again later.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: '\"Arial\", sans-serif',\n      maxWidth: '600px',\n      margin: 'auto',\n      padding: '20px',\n      backgroundColor: '#fff',\n      boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        borderBottom: '1px solid #eaeaea',\n        paddingBottom: '10px',\n        marginBottom: '20px'\n      },\n      children: t('fill_out_info')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: t('first_name'),\n        name: \"firstName\",\n        value: formData.firstName,\n        onChange: handleChange,\n        required: true,\n        style: {\n          padding: '10px',\n          fontSize: '16px',\n          border: '1px solid #eaeaea'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: t('last_name'),\n        name: \"lastName\",\n        value: formData.lastName,\n        onChange: handleChange,\n        required: true,\n        style: {\n          padding: '10px',\n          fontSize: '16px',\n          border: '1px solid #eaeaea'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: t('email_address'),\n        name: \"email\",\n        value: formData.email,\n        readOnly: true,\n        required: true,\n        style: {\n          padding: '10px',\n          fontSize: '16px',\n          border: '1px solid #eaeaea',\n          backgroundColor: '#f5f5f5'\n        } // Optional: Add a different background to indicate it's non-editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        placeholder: t('phone_number'),\n        name: \"phoneNumber\",\n        value: formData.phoneNumber,\n        onChange: handleChange,\n        required: true,\n        style: {\n          padding: '10px',\n          fontSize: '16px',\n          border: '1px solid #eaeaea'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px',\n          fontSize: '16px',\n          backgroundColor: 'black',\n          color: '#fff',\n          border: 'none',\n          cursor: 'pointer'\n        },\n        children: t('submit_order')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"X2V08K0a4nH0z4svQREyex9lDtk=\", false, function () {\n  return [useNavigate, useTranslation];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useTranslation","jsxDEV","_jsxDEV","Checkout","_s","navigate","t","formData","setFormData","firstName","lastName","email","phoneNumber","storedUser","JSON","parse","localStorage","getItem","prevData","handleChange","e","target","name","value","handleSubmit","preventDefault","response","fetch","method","headers","body","stringify","ok","Error","data","json","alert","message","error","console","style","fontFamily","maxWidth","margin","padding","backgroundColor","boxShadow","children","borderBottom","paddingBottom","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","flexDirection","gap","type","placeholder","onChange","required","fontSize","border","readOnly","color","cursor","_c","$RefreshReg$"],"sources":["/Users/hrida/SYST35300/samskritabharati/src/components/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst Checkout = () => {\r\n    const navigate = useNavigate();\r\n    const { t } = useTranslation(); \r\n    \r\n    // Initialize state for form data\r\n    const [formData, setFormData] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        phoneNumber: ''\r\n    });\r\n\r\n    // Retrieve the email from local storage when the component mounts\r\n    useEffect(() => {\r\n        const storedUser = JSON.parse(localStorage.getItem('user')); // Assuming user data is stored in localStorage\r\n        if (storedUser && storedUser.email) {\r\n            setFormData(prevData => ({\r\n                ...prevData,\r\n                email: storedUser.email // Set email from localStorage\r\n            }));\r\n        }\r\n    }, []);\r\n\r\n    // Handle form field changes\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    // Handle form submission\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch('/api/checkout', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const data = await response.json();\r\n            alert(data.message);\r\n            navigate('/order-confirmed');\r\n        } catch (error) {\r\n            console.error('Error checking out:', error);\r\n            alert('Error checking out. Please try again later.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ fontFamily: '\"Arial\", sans-serif', maxWidth: '600px', margin: 'auto', padding: '20px', backgroundColor: '#fff', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\r\n            <h2 style={{ borderBottom: '1px solid #eaeaea', paddingBottom: '10px', marginBottom: '20px' }}>{t('fill_out_info')}</h2>\r\n            <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={t('first_name')} \r\n                    name=\"firstName\" \r\n                    value={formData.firstName} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={t('last_name')} \r\n                    name=\"lastName\" \r\n                    value={formData.lastName} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <input \r\n                    type=\"email\" \r\n                    placeholder={t('email_address')} \r\n                    name=\"email\" \r\n                    value={formData.email} \r\n                    readOnly\r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea', backgroundColor: '#f5f5f5' }} // Optional: Add a different background to indicate it's non-editable\r\n                />\r\n                <input \r\n                    type=\"tel\" \r\n                    placeholder={t('phone_number')} \r\n                    name=\"phoneNumber\" \r\n                    value={formData.phoneNumber} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <button type=\"submit\" style={{ padding: '10px', fontSize: '16px', backgroundColor: 'black', color: '#fff', border: 'none', cursor: 'pointer' }}>\r\n                    {t('submit_order')}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}