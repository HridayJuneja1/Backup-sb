{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Checkout=()=>{const navigate=useNavigate();const{t}=useTranslation();// Initialize state for form data\nconst[formData,setFormData]=useState({firstName:'',lastName:'',email:'',phoneNumber:''});// Retrieve the email from local storage when the component mounts\nuseEffect(()=>{const storedUser=JSON.parse(localStorage.getItem('user'));// Assuming user data is stored in localStorage\nif(storedUser&&storedUser.email){setFormData(prevData=>({...prevData,email:storedUser.email// Set email from localStorage\n}));}},[]);// Handle form field changes\nconst handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('/api/checkout',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();alert(data.message);navigate('/order-confirmed');}catch(error){console.error('Error checking out:',error);alert('Error checking out. Please try again later.');}};return/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'\"Arial\", sans-serif',maxWidth:'600px',margin:'auto',padding:'20px',backgroundColor:'#fff',boxShadow:'0 0 10px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{borderBottom:'1px solid #eaeaea',paddingBottom:'10px',marginBottom:'20px'},children:t('fill_out_info')}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('first_name'),name:\"firstName\",value:formData.firstName,onChange:handleChange,required:true,style:{padding:'10px',fontSize:'16px',border:'1px solid #eaeaea'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('last_name'),name:\"lastName\",value:formData.lastName,onChange:handleChange,required:true,style:{padding:'10px',fontSize:'16px',border:'1px solid #eaeaea'}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:t('email_address'),name:\"email\",value:formData.email,readOnly:true// Make this field read-only\n,required:true,style:{padding:'10px',fontSize:'16px',border:'1px solid #eaeaea',backgroundColor:'#f5f5f5'}// Optional: Add a different background to indicate it's non-editable\n}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:t('phone_number'),name:\"phoneNumber\",value:formData.phoneNumber,onChange:handleChange,required:true,style:{padding:'10px',fontSize:'16px',border:'1px solid #eaeaea'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px',fontSize:'16px',backgroundColor:'black',color:'#fff',border:'none',cursor:'pointer'},children:t('submit_order')})]})]});};export default Checkout;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useTranslation","jsx","_jsx","jsxs","_jsxs","Checkout","navigate","t","formData","setFormData","firstName","lastName","email","phoneNumber","storedUser","JSON","parse","localStorage","getItem","prevData","handleChange","e","target","name","value","handleSubmit","preventDefault","response","fetch","method","headers","body","stringify","ok","Error","data","json","alert","message","error","console","style","fontFamily","maxWidth","margin","padding","backgroundColor","boxShadow","children","borderBottom","paddingBottom","marginBottom","onSubmit","display","flexDirection","gap","type","placeholder","onChange","required","fontSize","border","readOnly","color","cursor"],"sources":["/Users/hrida/SYST35300/samskritabharati/src/components/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst Checkout = () => {\r\n    const navigate = useNavigate();\r\n    const { t } = useTranslation(); \r\n    \r\n    // Initialize state for form data\r\n    const [formData, setFormData] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        phoneNumber: ''\r\n    });\r\n\r\n    // Retrieve the email from local storage when the component mounts\r\n    useEffect(() => {\r\n        const storedUser = JSON.parse(localStorage.getItem('user')); // Assuming user data is stored in localStorage\r\n        if (storedUser && storedUser.email) {\r\n            setFormData(prevData => ({\r\n                ...prevData,\r\n                email: storedUser.email // Set email from localStorage\r\n            }));\r\n        }\r\n    }, []);\r\n\r\n    // Handle form field changes\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    // Handle form submission\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch('/api/checkout', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const data = await response.json();\r\n            alert(data.message);\r\n            navigate('/order-confirmed');\r\n        } catch (error) {\r\n            console.error('Error checking out:', error);\r\n            alert('Error checking out. Please try again later.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ fontFamily: '\"Arial\", sans-serif', maxWidth: '600px', margin: 'auto', padding: '20px', backgroundColor: '#fff', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\r\n            <h2 style={{ borderBottom: '1px solid #eaeaea', paddingBottom: '10px', marginBottom: '20px' }}>{t('fill_out_info')}</h2>\r\n            <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={t('first_name')} \r\n                    name=\"firstName\" \r\n                    value={formData.firstName} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={t('last_name')} \r\n                    name=\"lastName\" \r\n                    value={formData.lastName} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <input \r\n                    type=\"email\" \r\n                    placeholder={t('email_address')} \r\n                    name=\"email\" \r\n                    value={formData.email} \r\n                    readOnly  // Make this field read-only\r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea', backgroundColor: '#f5f5f5' }} // Optional: Add a different background to indicate it's non-editable\r\n                />\r\n                <input \r\n                    type=\"tel\" \r\n                    placeholder={t('phone_number')} \r\n                    name=\"phoneNumber\" \r\n                    value={formData.phoneNumber} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ padding: '10px', fontSize: '16px', border: '1px solid #eaeaea' }} \r\n                />\r\n                <button type=\"submit\" style={{ padding: '10px', fontSize: '16px', backgroundColor: 'black', color: '#fff', border: 'none', cursor: 'pointer' }}>\r\n                    {t('submit_order')}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}